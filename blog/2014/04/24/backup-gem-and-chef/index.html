
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Backup gem and Chef - DevOp's Blog</title>
  <meta name="author" content="jakshi">

  
  <meta name="description" content="Intro There&#8217;s a nice tool for doing fast and easy backup to AWS S3: backup gem
There should be done a lot of steps for setup a backup though. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jakshi.github.com/blog/2014/04/24/backup-gem-and-chef/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="DevOp's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15926665-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">DevOp's Blog</a></h1>
  
    <h2>jakshi's devop blog.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jakshi.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About me</a></li>
  <li><a href="http://wiki.jakshi.com">Wiki</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Backup Gem and Chef</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-24T12:48:00+08:00" pubdate data-updated="true">Apr 24<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><h1>Intro</h1>

<ul>
<li>There&#8217;s a nice tool for doing fast and easy backup to AWS S3: <a href="http://meskyanichi.github.io/backup/">backup gem</a></li>
<li>There should be done a lot of steps for setup a backup though.</li>
<li>So it could be automated with chef.</li>
<li>In this article I&#8217;ll write log of creation backup gem&#8217;s cookbook.</li>
<li>Essentially this cookbook will install backup gem, that will backup /var/www folder to AWS S3 every day in 01:00. It will store last 14 backups.</li>
</ul>


<!-- more -->


<h1>Chef application cookbook for backup gem</h1>

<h2>Create a cookbook</h2>

<p>   mkdir example-backup
   cd example-backup</p>

<h2>Create metadata</h2>

<pre><code>emacs metadata.rb
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>name             'example-backup'
</span><span class='line'>maintainer       'John Smith'
</span><span class='line'>maintainer_email 'john@example.com'
</span><span class='line'>license          'Apache 2.0'
</span><span class='line'>description      'Installs/Configures example-backup'
</span><span class='line'>long_description IO.read(File.join(File.dirname(__FILE__), 'README.md'))
</span><span class='line'>version          '0.0.1'
</span><span class='line'>
</span><span class='line'>%w{ubuntu}.each do |os|
</span><span class='line'>  supports os
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>depends 'backup', '~&gt; 0.4.0'
</span><span class='line'>depends 'build-essential'
</span><span class='line'>depends 'cron', '= 1.3.8'</span></code></pre></td></tr></table></div></figure>


<ul>
<li>We will use &#8216;backup&#8217; gem for setupping backup.</li>
<li>build-essential is necessary for installing gem&#8217;s native extensions</li>
<li>cron is restricted to 1.3.8 version, because last version of cron (1.3.10) was broken on the moment of writing this article.</li>
<li>This example is for ubuntu 12.04 LTS only</li>
</ul>


<h2>Attributes</h2>

<pre><code>emacs attributes/default.rb
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>default['example']['backup']['s3-bucket'] = 'example.com.backup'
</span><span class='line'>override['build-essential']['compile_time'] = true
</span><span class='line'>override['backup']['dependencies'] = [['fog'],['aws-s3']]
</span><span class='line'>override['backup']['version'] = '4.0.1'
</span><span class='line'>override['backup']['path'] = '/opt/backup'</span></code></pre></td></tr></table></div></figure>


<h2>Templates</h2>

<pre><code>emacs templates/default/config.rb.erb
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># encoding: utf-8
</span><span class='line'>
</span><span class='line'>##
</span><span class='line'># Backup v4.x Configuration
</span><span class='line'>#
</span><span class='line'># Documentation: http://meskyanichi.github.io/backup
</span><span class='line'># Issue Tracker: https://github.com/meskyanichi/backup/issues
</span><span class='line'>root_path '&lt;%= @root_path %&gt;'
</span><span class='line'>tmp_path '&lt;%= @tmp_path %&gt;'
</span><span class='line'>data_path '&lt;%= @data_path %&gt;'</span></code></pre></td></tr></table></div></figure>


<h2>Recipes</h2>

<h3>default</h3>

<pre><code>emacs recipes/default.rb
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>include_recipe 'example-backup::dependencies'
</span><span class='line'>include_recipe 'example-backup::backup'</span></code></pre></td></tr></table></div></figure>


<h3>dependencies</h3>

<p>This recipe is to install dependenices that neccessary for backup gem to functioning.</p>

<pre><code>emacs recipes/dependencies.rb
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>include_recipe 'build-essential'
</span><span class='line'>
</span><span class='line'>%w{ruby1.9.1-full libopenssl-ruby1.9.1 libssl-dev zlib1g-dev}.each do |pkg|
</span><span class='line'>  package(pkg).run_action(:install)
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'># Make ruby19 default ruby interpreter
</span><span class='line'># Ruby 1.8.x on Ubuntu 12.04 LTS have priority 50
</span><span class='line'># Let's setup priority 400 for ruby 1.9.x
</span><span class='line'>bash 'ruby19_by_default' do
</span><span class='line'>  cwd '/tmp'
</span><span class='line'>  code &lt;&lt;-EOH
</span><span class='line'>  update-alternatives --install /usr/bin/ruby ruby /usr/bin/ruby1.9.1 400 --slave /usr/share/man/man1/ruby.1.gz ruby.1.gz /usr/share/man/man1/ruby1.9.1.1.gz --slave /usr/bin/erb erb /usr/bin/erb1.9.1 --slave /usr/share/man/man1/erb.1.gz erb.1.gz /usr/share/man/man1/erb1.9.1.1.gz --slave /usr/bin/irb irb /usr/bin/irb1.9.1 --slave /usr/share/man/man1/irb.1.gz irb.1.gz /usr/share/man/man1/irb1.9.1.1.gz --slave /usr/bin/rdoc rdoc /usr/bin/rdoc1.9.1 --slave /usr/share/man/man1/rdoc.1.gz rdoc.1.gz /usr/share/man/man1/rdoc1.9.1.1.gz --slave /usr/bin/ri ri /usr/bin/ri1.9.1 --slave /usr/share/man/man1/ri.1.gz ri.1.gz /usr/share/man/man1/ri1.9.1.1.gz --slave /usr/bin/testrb testrb /usr/bin/testrb1.9.1 --slave /usr/share/man/man1/testrb.1.gz testrb.1.gz /usr/share/man/man1/testrb1.9.1.1.gz
</span><span class='line'>EOH
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>chef_gem "chef-rewind"
</span><span class='line'>require 'chef/rewind'
</span><span class='line'>
</span><span class='line'>include_recipe 'backup'
</span><span class='line'>
</span><span class='line'>%w{keys .data logs}.each do |dir|
</span><span class='line'>  directory "#{node['backup']['path']}/#{dir}" do
</span><span class='line'>    action :create
</span><span class='line'>    recursive true
</span><span class='line'>  end
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>rewind :template =&gt; "Backup config file" do
</span><span class='line'>  source 'config.rb.erb'
</span><span class='line'>  cookbook_name 'example-backup'
</span><span class='line'>  variables({
</span><span class='line'>    :root_path =&gt; node['backup']['path'],
</span><span class='line'>    :tmp_path =&gt; '/tmp',
</span><span class='line'>    :data_path =&gt; "#{node['backup']['path']}/.data"
</span><span class='line'>  })
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Recipe installs ruby 1.9 and make it default.</li>
<li>I include backup::default recipe, that will install backup, fog and aws-s3 gems, create backup config and some necessary dirs.</li>
<li>Little trick. Last version of backup recipe doesn&#8217;t support backup gem 4.x version.</li>
<li>Difference is in the config file template.</li>
<li>So I substitute backup&#8217;s cookbook config file template (for 3.x version of backup gem) with my own config template for 4.x version of backup gem.</li>
<li>I use chef-rewind gem for that</li>
</ul>


<h3>backup</h3>

<p>Action part of recipe. It will configure backup.</p>

<pre><code>emacs recipes/backup.rb
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>aws = data_bag_item('aws', 'backup')
</span><span class='line'>
</span><span class='line'>backup_model :www do
</span><span class='line'>  description "backup of /var/www folder"
</span><span class='line'>  definition &lt;&lt;-EOS
</span><span class='line'>before do
</span><span class='line'>  require 'aws/s3'
</span><span class='line'>  AWS::S3::Base.establish_connection!(:access_key_id =&gt; '#{aws['aws_access_key_id']}', :secret_access_key =&gt; '#{aws['aws_secret_access_key']}')
</span><span class='line'>  AWS::S3::Bucket.create('#{node['example']['backup']['s3-bucket']}')
</span><span class='line'>  AWS::S3::Base.disconnect!
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>split_into_chunks_of 50
</span><span class='line'>  
</span><span class='line'>store_with S3 do |s3|
</span><span class='line'>  s3.access_key_id = '#{aws['aws_access_key_id']}'
</span><span class='line'>  s3.secret_access_key = '#{aws['aws_secret_access_key']}'
</span><span class='line'>  s3.region = 'us-east-1'
</span><span class='line'>  s3.bucket = '#{node['example']['backup']['s3-bucket']}'
</span><span class='line'>  s3.path = '/'
</span><span class='line'>  s3.keep = 14
</span><span class='line'>  s3.fog_options = {
</span><span class='line'>    :path_style =&gt; true
</span><span class='line'>  }
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>##
</span><span class='line'># Gzip [Compressor]
</span><span class='line'>#
</span><span class='line'>compress_with Gzip
</span><span class='line'>
</span><span class='line'>archive :www do |archive|
</span><span class='line'>  archive.add '/var/www/'
</span><span class='line'>  archive.tar_options '-p'
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>EOS
</span><span class='line'>  schedule({
</span><span class='line'>    :minute =&gt; '0',
</span><span class='line'>    :hour   =&gt; '1',
</span><span class='line'>  })
</span><span class='line'>  cron_options({
</span><span class='line'>    :path =&gt; '/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin'
</span><span class='line'>  })
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<ul>
<li>I get aws credentials from aws data bag.</li>
<li>They could be loaded from other source, like attributes, anything you like.</li>
<li>In backup model I create a before hook that will create amazon bucket for backups in case it doesn&#8217;t exist.</li>
<li>Then backup resource just describe backupping /var/www to Amazon S3 bucket, keep 14 backup, start every day on 01:00 AM.</li>
</ul>


<h2>Usage</h2>

<ul>
<li>I presume that you use chef-server and you already have some chef repository, like <code>example-chef-repo</code>.</li>
<li>Fill aws data bag with credentials</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir -p example-chef-repo/data_bags/aws
</span><span class='line'>emacs example-chef-repo/data_bags/aws/backup.json
</span><span class='line'>
</span><span class='line'>{
</span><span class='line'>  "id": "backup",
</span><span class='line'>  "aws_access_key_id": "AWS_ACCESS_KEY",
</span><span class='line'>  "aws_secret_access_key": "AWS_SECRET_KEY"
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<ul>
<li>It&#8217;s better to use AWS_ACCESS_KEY and AWS_SECRET_KEY credentials of IAM user that has access to S3 only.</li>
<li>Upload that data bag to your chef-server</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>knife data bag create aws
</span><span class='line'>knife data bag from file aws backup.json</span></code></pre></td></tr></table></div></figure>


<ul>
<li>If you don&#8217;t have chef-server, rewrite recipe to use attributes, and set AWS credentials through attributes.</li>
<li>And That&#8217;s it - just add example-backup to your node run_list.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>knife node run_list add node_name 'recipe[example-backup]'</span></code></pre></td></tr></table></div></figure>


<ul>
<li>And run <code>chef-client</code> on the node.</li>
</ul>


<h1>References</h1>

<h2>cookbooks</h2>

<ul>
<li><a href="https://github.com/gofullstack/backup-cookbook">backup cookbook on github</a></li>
<li><a href="https://github.com/damm/backup">backup lwrp cookbook on github</a></li>
<li><a href="https://github.com/opscode-cookbooks/cron">cron cookbook on github</a></li>
</ul>


<h2>gems</h2>

<h3>chef-rewind gem</h3>

<ul>
<li><a href="https://github.com/bryanwb/chef-rewind">chef-rewind gem on github</a></li>
</ul>


<h3>backup gem</h3>

<ul>
<li><a href="http://meskyanichi.github.io/backup/v4/">backup gem v4.x documentation</a></li>
</ul>


<h3>aws-s3 gem</h3>

<ul>
<li><a href="http://rubydoc.info/gems/aws-s3/0.6.3/frames">AWS::S3 module documentation</a></li>
<li><a href="http://rubydoc.info/gems/aws-s3/0.6.3/AWS/S3/Service">AWS::S3::Service class documentation</a></li>
<li><a href="http://rubydoc.info/gems/aws-s3/0.6.3/AWS/S3/Bucket">AWS::S3::Bucket class documentation</a></li>
</ul>


<h3>test-kitchen</h3>

<ul>
<li><a href="https://github.com/test-kitchen/test-kitchen">test-kitchen gem on github</a></li>
<li><a href="https://github.com/test-kitchen/kitchen-digitalocean">kitchen-digital ocean driver on github</a></li>
</ul>


<h3>berkshelf</h3>

<ul>
<li><a href="http://berkshelf.com/">berkshelf gem documentation</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">jakshi</span></span>

      








  


<time datetime="2014-04-24T12:48:00+08:00" pubdate data-updated="true">Apr 24<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/amazon/'>amazon</a>, <a class='category' href='/blog/categories/aws/'>aws</a>, <a class='category' href='/blog/categories/backup/'>backup</a>, <a class='category' href='/blog/categories/chef/'>chef</a>, <a class='category' href='/blog/categories/devops/'>devops</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/technical/'>technical</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jakshi.github.com/blog/2014/04/24/backup-gem-and-chef/" data-via="" data-counturl="http://jakshi.github.com/blog/2014/04/24/backup-gem-and-chef/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/01/25/rewriting-your-email-in-git-commits/" title="Previous Post: rewriting your email in git commits">&laquo; rewriting your email in git commits</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/05/03/chef-cookbook-templating-with-cookiecutter/" title="Next Post: Chef cookbook templating with cookiecutter">Chef cookbook templating with cookiecutter &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    
<section>
	<span>
		<img src="http://www.gravatar.com/avatar/09d9230b93dcba238e0a7ff787676cca" alt="Gravatar of jakshi " title="Gravatar of jakshi" />
	</span>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/01/2014-year-sum-up/">2014 year sum up</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/21/chef-shortcuts/">Chef shortcuts</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/14/rewriting-git-commit/">Rewriting git commit</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/12/accessing-chef-attributes-in-serverspec-tests/">Accessing chef attributes in serverspec tests</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/03/chef-cookbook-templating-with-cookiecutter/">Chef cookbook templating with cookiecutter</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jakshi">@jakshi</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jakshi',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/102283293607093553959?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



<section>
<script async
        src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- jakshi.com_sidebar -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-3625827598351192"
     data-ad-slot="1696877219"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - jakshi -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'devopblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://jakshi.github.com/blog/2014/04/24/backup-gem-and-chef/';
        var disqus_url = 'http://jakshi.github.com/blog/2014/04/24/backup-gem-and-chef/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
